message("\n[If cmake version greater | 3.0]")
if(CMAKE_VERSION VERSION_GREATER 3.0)
    message("  CMake version is greater than 3.0")
else()
    message("  CMake version is not greater than 3.0")
endif()

message("\n[If policy | CMP0045]")
if(POLICY CMP0045)
    message("  Policy CMP0045 is supported")
else()
    message("  Policy CMP0045 is not supported")
endif()

message("\n[Get policy | CMP0045]")
cmake_policy(GET CMP0045 CH13_CMP0045)
message("  CMP0045: ${CH13_CMP0045}")

message("\n[Set policy | CMP0045]")
cmake_policy(SET CMP0045 OLD)
cmake_policy(GET CMP0045 CH13_CMP0045)
message("  CMP0045: ${CH13_CMP0045}")

message("\n[Scope policy | CMP0045]")
block(SCOPE_FOR POLICIES)
    cmake_policy(SET CMP0045 NEW)
    cmake_policy(GET CMP0045 CH13_CMP0045)
    message("  IN_SCOPE | CMP0045: ${CH13_CMP0045}")
endblock()
cmake_policy(GET CMP0045 CH13_CMP0045)
message("OUT_SCOPE | CMP0045: ${CH13_CMP0045}")

message("\n[Push policy | CMP0045]")
cmake_policy(PUSH)
cmake_policy(SET CMP0045 NEW)
cmake_policy(GET CMP0045 CH13_CMP0045)
message("  AFTER_PUSH | CMP0045: ${CH13_CMP0045}")

message("\n[Pop policy | CMP0045]")
cmake_policy(POP)
cmake_policy(GET CMP0045 CH13_CMP0045)
message("  AFTER_POP | CMP0045: ${CH13_CMP0045}")
